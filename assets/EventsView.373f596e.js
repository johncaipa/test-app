import{h as _}from"./moment.9709ab41.js";import{r as V,D as g,E as x,o as y,J as a,M as d,N as l,n,L as c,K as o,Q as f,P as i,F as p,R as t,S as k,U as s,aC as v}from"./index.ff394acc.js";import{V as M}from"./VContainer.622877ba.js";import{a as N,V as S}from"./VRow.00f5d814.js";import{V as C}from"./VSheet.0307597a.js";import{V as b}from"./VTable.1faf1afd.js";import"./position.fd038f5b.js";const w=t("div",null,[t("h1",null,"Resumen \xFAltimos eventos registrados")],-1),A={key:0},B=t("thead",null,[t("tr",null,[t("th",{class:"text-left"}," Fecha "),t("th",{class:"text-left"}," Nombre "),t("th",{class:"text-left"}," Estado "),t("th",{class:"text-left"}," Nivel "),t("th",{class:"text-left"}," Mensaje ")])],-1),J={__name:"EventsView",setup(D){V("Sogamoso");const u=g(),{getAllEvents:m}=x(u),{fetchAlarmEvents:h}=u;return y(async()=>{await h({page:1,limit:100,interval:"lastMonth"})}),(E,R)=>(a(),d(M,null,{default:l(()=>[n(S,{"no-gutters":""},{default:l(()=>[n(N,{cols:"12"},{default:l(()=>[n(C,{class:"pa-2"},{default:l(()=>[w,Object.keys(c(m)).length===0?(a(),o("div",A,"Cargando...")):f("",!0),(a(!0),o(p,null,i(c(m),r=>(a(),o("div",null,[k(s(r)+" ",1),r.alarms.length!==0?(a(),d(b,{key:0},{default:l(()=>[B,t("tbody",null,[(a(!0),o(p,null,i(r.alarms,e=>(a(),o("tr",{key:e.timestamp},[t("td",null,s(c(_)(e.timestamp).locale("es").format("MMM DD, YYYY HH:mm")),1),t("td",null,s(e.name),1),t("td",{style:v({color:e.colorAlarm})},s(e.status),5),t("td",null,s(e.level),1),t("td",null,s(e.message),1)]))),128))])]),_:2},1024)):f("",!0)]))),256))]),_:1})]),_:1})]),_:1})]),_:1}))}};export{J as default};
